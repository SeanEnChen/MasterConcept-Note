# 6.2.1 Architecture and Use Cases

好的，這段影片內容深入探討了在Google Cloud上實施生成式AI的架構考量和不同方法，並由Crispin Welles（Google全球孵化團隊的Vertex AI負責人）進行講解。

**核心觀點：**

- **從用例開始：** 在著手實施生成式AI之前，首先要識別具體的用例。無論是一個還是多個，這都是第一步。
- **基礎架構至關重要：** 無論客戶是全新的還是已有的雲端用戶，建立穩固的雲端基礎 (Cloud Foundations) 和Vertex AI平台基礎 (AI Platform Foundations) 都是必要的。
- **核心服務選擇：** Vertex AI提供了多種核心服務，企業可以根據其特定用例的需求選擇合適的服務組合。
- **模型適應性：** 基礎模型是經過大型通用數據集預訓練的模型。企業可以通過不同的技術將這些模型適應到特定的下游任務，例如摘要、分類、生成和搜尋。

**模型適應技術及例子：**

1. **Prompting (提示工程/設計)：**
    
    - **說明：** 通過設計特定的文本模板來配置模型的響應或輸出，並在提示中提供上下文。
    - **限制：** 受限於模型可以接受的輸入token數量，並且可能只能使用少量示例。
    - **例子：** 詢問PaLM API "最佳香蕉麵包食譜是什麼？" 並配置溫度等參數以控制輸出的隨機性。
2. **Prompt Tuning (提示微調)：**
    
    - **說明：** 通過少量或大量的示例，微調模型中一小部分可調整的參數。訓練時間從幾分鐘到幾小時不等，可以使用單個或多個模型。
    - **優勢：** 相較於完全重新訓練模型，成本更低，效率更高，並且能夠嵌入企業的專有數據。影片中提到這是目前最受歡迎的方法。
    - **例子：** 一家零售公司希望提高其產品描述的質量。他們可以使用Prompt Tuning，提供一些現有的高品質產品描述作為示例，讓模型學習其風格和關鍵信息，然後應用於生成新的產品描述。
3. **Instruction Fine-tuning (指令微調)：**
    
    - **說明：** 使用大量的標註數據集（包含指令和期望的輸出）來訓練模型，使其更好地遵循指令。
    - **缺點：** 成本最高，需要大量的數據和計算資源。通常只有研究驅動型企業或擁有龐大數據集的實驗室才會採用。
    - **例子：** 一個研究實驗室可能希望訓練一個模型，使其能夠理解並執行非常複雜的多步驟指令，例如，根據用戶的自然語言描述，自動生成一個包含特定功能和錯誤處理的程式碼片段。

**模塊化架構示例：**

影片中還介紹了針對不同用例的簡化架構示例：

- **短文本摘要、內容生成、分類：** 通常涉及外部服務API調用或瀏覽器擴展，並可能在前端使用負載均衡器來處理高流量。
    - **例子：** 一個新聞聚合應用程序可以使用摘要API自動生成新聞文章的簡短摘要。
- **PDF摘要：** 涉及到PDF到文本的轉換（可以使用Cloud Foundation或Doc AI），然後將文本傳遞給摘要API。
    - **例子：** 一家律師事務所可以使用此架構自動總結大量的法律文件。
- **文本到程式碼：** 可能需要一個執行沙箱來運行生成的程式碼片段，並可以與程式碼儲存庫集成。
    - **例子：** 開發人員可以使用此架構快速生成一些基礎的程式碼框架或特定功能的程式碼片段。
- **長文檔問答 (Q&A on Long Documents)：** 這是一個常見且複雜的用例，涉及以下組件：
    - **索引API：** 用於儲存文檔或段落。
    - **Vertex LLM Embeddings API：** 用於生成文檔的嵌入向量。
    - **Matching Engine：** 用於建立嵌入向量的索引，實現相似性搜尋。
    - **Vertex AI Dialog API：** 用於協調整個流程。
    - **例子：** 一家製藥公司可以使用此架構，讓員工能夠通過自然語言查詢大量的研究論文和內部文檔，快速找到所需的資訊。這與LangChain等框架的思想類似。

**PaLM API請求示例：**

影片展示了一個使用`curl`發送給PaLM API的請求示例，用於生成香蕉麵包的食譜，並展示了響應中包含的安全性屬性（例如，對仇恨、暴力、性暗示等內容的低置信度）。

**Prompt Tuning訓練示例：**

影片還展示了使用`curl`命令啟動Prompt Tuning訓練的示例，強調了其在嵌入企業數據方面的吸引力。在訓練完成後，需要為微調後的模型創建端點並部署，然後就可以用於生成預測。

總而言之，這段影片深入講解了在Google Cloud上使用Vertex AI實施生成式AI的不同策略和架構，從基礎模型的適應技術到具體的用例架構，為企業提供了寶貴的實踐指導。